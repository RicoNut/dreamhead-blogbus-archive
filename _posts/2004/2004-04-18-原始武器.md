---
layout: post
title: 原始武器
author: dreamhead
date: 2004-04-18 22:55:00 +0800
tags: [ '脚下的路' ]
categories: [ '脚下的路' ]
---

你是程序员吗？你会用debugger吗？  
我似乎已经看到了你轻蔑的笑容，程序员哪有不会玩debugger的。原本我也这样认为，但如果一切遂人愿，那早就天下太平了，我也就没了这次的话题。

刚开始自己程序人生的时候，我手上的工具是那个为Borland开创了一个时代Turbo Pascal。除了语言本身，我最先学会就是TP自带的就是debugger，每当程序无法按照我预想的方式运行，大脑最先出现的总是debugger的经典词汇：设断点、单步调试、观察变量值……于是，debugger成了我屡试不爽的看家本领，从TP、TC、VC到现在的Java。

和一个同事协助开发一个模块。  
有一次，单元测试出了问题，他束手无策，把我叫了过去。  
“快看看这是怎么回事，为什么就是过不去？”  
“你单步调试过吗？”  
“单步调试？”，他像发现了外星人一样看着我。“什么叫单步调试？怎么单步调试？”  
这回轮到我像发现了外星人一样地看着他了。  
迟疑了片刻，我假装没事人一样把如何运用debugger给他演示了一遍。  
“哦，原来可以这样啊！”这位同事有种哥伦布发现了新大陆的感觉。  
“你没用过debugger吗？你以前开发C程序不用吗？”  
“没有，我以前写C程序都是在里面加打印语句。”

如果这是一次偶然的意外，我的大脑很快就会把它遗忘。可就在我大脑还没来得及完成这个需要时间的工作时，又一个同事找到了我。  
“帮我看看这里为什么总是空指针？“  
瞪了半天眼睛，未果。  
于是，我选择了debugger。  
很快一个未赋值的引用被我抓了出来，就当我准备炫耀一番的时候，这位同事发话了。  
”原来可以这么调啊！我以前从来没用过。“  
我无语……

我的这两位同事都不算上新手了，最短的写代码也超过了半年。而他们竟然对debugger——这件程序员的原始武器没有丝毫的概念。很难想象他们是如何编写调试代码的，且不说代码的质量如何，单单想象他们的调试手法，我都会替他们觉得累。

或许看过Robert Martin的《[Debuggers are a wasteful Timesink](http://www.artima.com/weblogs/viewpost.jsp?thread=23476)》之后，你会站出来为我这两位同事说说好话：Uncle Bob都说debugger浪费时间了。没错，这篇文章多多少少也颠覆了debugger在我心目中的高大形象。但不要忘了，Uncle Bob认为debugger浪费时间需要建立良好的单元测试基础之上。况且，他也并没有把debugger一棒子打倒在地，一旦发现实在无法解决的问题，我们依然要祭起这件原始武器。


