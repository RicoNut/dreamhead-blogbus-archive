---
layout: post
title: 系统复杂之路
author: dreamhead
date: 2010-08-30 23:27:00 +0800
tags: [ '敏捷', 'ThoughtWorks', '咨询' ]
categories: [ '敏捷', 'ThoughtWorks', '咨询' ]
---

好，大家写的是C++程序，那么用过virtual的，请举手！  
举起的手屈指可数。  
  
这次是系统架构的梳理，一个C++编写的大型系统，写到了添加一个新东西，自己都很难受的地步。是的，健康状况良好的系统是不会找咨询师的。  
  
几个对系统很熟悉的人给我介绍了系统的架构，其实，它并不像我预期的那样不堪，从宏观的层面上，有着相对比较清晰的结构。我很好奇，一个还算不错的架构如何演变成今天的模样。  
  
听完他们对于现阶段困境的介绍，我打开了代码，出现在眼前的是一大堆if，我逐渐明白了。  
  
每次来了新需求，他们都会在现有的代码上找一个适合处理的地方，然后，加上一个判断条件，填上一大堆处理，OK，收工。下一次，又来新需求，又找到一个地方，又加上一个判断条件，又填上一堆处理。同样的事情，每天发生着。经年累月，系统成了今天的样子。  
  
在我们看来，写完代码要重构，函数应该尽可能短小，重复尽可能少，遗憾的是，这并不是这个团队的开发人员的行事风格。  
  
在巨大的交付压力面前，他们所能做的低着头赶代码，他们眼里，写程序就是照着别人的代码，把功能堆砌出来。他们没有时间去学习，甚至连自己用的语言都不了解：用C++的不了解virtual，写C的不知道函数指针。周边的人大多以同样的方式工作着，没有时间抬头看路的人，以为这就是天经地义的工作方式。  
  
就是这样一支团队，日复一日的“努力”工作，系统复杂起来，于是，咨询师有了用武之地。


